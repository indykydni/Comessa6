@model Comessa6.ViewModels.OrderViewModel

<head>
    <script>
      $(function () {
        $('form').on('submit', function (e) {
            e.preventDefault();
            var itemID = @Html.Raw(Json.Encode(Model.ItemID));
          $.ajax({
            type: 'POST',
            url: 'Orders/SaveOrder',
            data: JSON.stringify({ "itemID":itemID, "quantity": $('#orderQuantity').val(), "comments": $('#orderComments').val() }),
            contentType: 'application/json; charset=utf-8',
            dataType: 'json',
            success: function (result) {
              //alert(result);
            },
            error: function (error) { alert("Database failure: " + error.statusText); }
          });
        });

      });
    </script>
</head>
<div @*class="collapse"*@ id="orderPanel">
    @using (Html.BeginForm("SaveOrder", "Orders", FormMethod.Post))
    {
        <form class="panel-body">
            <div class="row">
                <div class="col-lg-12 form-group">
                    <input class="form-control" id="orderQuantity" name="quantity" placeholder="Quantity" type="number" value="@Model.Quantity" required>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 form-group">
                    <textarea class="form-control" id="orderComments" name="comment" placeholder="Comments" rows="5" value="@Model.Comment"></textarea>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-5 form-group">
                    <button class="btn pull-right" value="SaveOrder" type="submit">Order</button>
                </div>
                <div class="col-lg-2 form-group"></div>
                <div class="col-lg-5 form-group">
                    <button class="btn pull-right" onclick="CancelOrder();">Cancel</button>
                </div>
            </div>
        </form>
    }
</div>
